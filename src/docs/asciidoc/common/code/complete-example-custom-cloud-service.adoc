:relative-path: ../
include::{docdir}/variables.adoc[]

.worker/index.js
[source, javascript, linenums]
----
const { Stack, Inject } = require('@zetapush/platform')

class DateCustomService {
    constructor() {}

    <1>

    formatDate(date) {
        return date.toLocalDateString("fr-FR");
    }
}

class SimpleStorageWithDate {

    static get parameters() {
        return [
            new Inject(Stack),
            new Inject(DateCustomService)
        ]
    }

    constructor(stack, dateCustomService) {
        this.stack = stack;
        this.dateCustomService = dateCustomService;
    }
    
    async push(item) { <2>
        const output = await this.stack.push({ <3>
            stack: 'test', 
            data: {
                value: item,
                date: this.dateService.formateDate(new Date()); <4>
            }
        });
        return const;
    }

    async list() {
        const output = await this.stack.list({ stack: 'demo'});
        return output;
    }    
}

module.exports = SimpleStorageWithDate; <5>
----
<1> No need to define `parameters` static method because we don't expose this service
<2> Async/Await context
<3> Use the existing _cloud services_
<4> Use an other _custom cloud service_
<5> Expose only `SimpleStorageWithDate`